# 总结

## fork()系统调用

### 作用：通过复制父进程来创建一个新的子进程

### 核心特征

- 调用一次，返回两次（父进程中返回子进程PID，子进程返回0）
- 写时复制：父子进程初始共享物理内存页，只有当任意进程尝试修改某页时，内核才会为该页创建副本
- 子进程继承父进程的许多属性

## exit()与进程终止

### 作用：正常终止一个进程

### 退出状态

进程通过退出状态（一个8位值）向父进程报告其终止情况

## wait()

### 作用：父进程等待子进程的状态改变，并获取其退出信息

## exec()系列函数

### 作用：将正在进程的文本段、数据段、堆栈等替换为一个全新的程序，并从该程序的main()函数开始执行

## fork() + exec()

### 先fork()创建一个子进程，然后在子进程中调用exec()来运行一个新程序

## 避免僵尸进程

父进程必须对每个创建的子进程调用wait()来回收

## 竞争条件

在fork()之后，父子进程的执行顺序是不确定的，由内核调度器决定。编写代码时不能依赖特定的执行顺序。
